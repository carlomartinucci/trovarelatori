<div class="page-header">
  <h1>
    <%= @theorem.claim_value %>
    <% if @theorem.argument %>
      <small>
        <%= @theorem.argument.name %>
        <% if @theorem.argument.theme %>
          (in <%= @theorem.argument.theme.name %>)
        <% end %>
      </small>
    <% end %>
  </h1>
</div>

<h2>Ragioni <small>(<%= @theorem.reasons.count %>)</small></h2>

<%= form_for [:backend, Theorem.new(argument_id: @theorem.argument_id)], html: {class: "inline-create"} do |f| %>
  <%= f.hidden_field :argument_id %>
  <%= hidden_field_tag :consequence_id, @theorem.id %>
  <div class="input-group">
    <%= f.text_field :claim_id,
      class: "form-control selectize-theorem-claim",
      placeholder: "Aggiungi una ragione a \"#{@theorem.claim_value}\"" %>
    <span class="input-group-btn">
      <%= f.submit class: "btn btn-default" %>
    </span>
  </div>
<% end %>

<% if @theorem.reasons.any? %>
  <div class="panel panel-warning">
    <% @theorem.reasons.each do |reason| %>
      <div class="panel-heading">
        <%= link_to [:backend, reason] do %>
          <span class="pull-left"><%= reason.claim_value %></span>
          <span class="pull-right"><i class="fa fa-external-link"></i></span>
          <div class="clearfix"></div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>


<h2>Conseguenze <small>(<%= @theorem.consequences.count %>)</small></h2>

<%= form_for [:backend, Theorem.new(argument_id: @theorem.argument_id)], html: {class: "inline-create"} do |f| %>
  <%= f.hidden_field :argument_id %>
  <%= hidden_field_tag :reason_id, @theorem.id %>
  <div class="input-group">
    <%= f.text_field :claim_id,
      class: "form-control selectize-theorem-claim",
      placeholder: "Aggiungi una conseguenza a \"#{@theorem.claim_value}\"" %>
    <span class="input-group-btn">
      <%= f.submit class: "btn btn-default" %>
    </span>
  </div>
<% end if can?(:add_consequence, @theorem) %>

<% if @theorem.consequences.any? %>
  <div class="panel panel-warning">
    <% @theorem.consequences.each do |consequence| %>
      <div class="panel-heading">
        <%= link_to [:backend, consequence] do %>
          <span class="pull-left"><%= consequence.claim_value %></span>
          <span class="pull-right"><i class="fa fa-external-link"></i></span>
          <div class="clearfix"></div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>




